# ğŸ›¡ï¸ XIVIX ë³´í—˜ ì½˜í…ì¸  ë§ˆìŠ¤í„° V28.0

> **AI ê¸°ë°˜ ë³´í—˜ ë§ˆì¼€íŒ… ì½˜í…ì¸  ìë™ ìƒì„± í”Œë«í¼**  
> ë³´í—˜ ì„¤ê³„ì‚¬ì˜ ë„¤ì´ë²„ ì¹´í˜ ë§ˆì¼€íŒ…ì„ ìœ„í•œ Q&A, ë¶„ì„ ë¦¬í¬íŠ¸, ì œì•ˆì„œ ìë™ ìƒì„±
> 
> **V28.0 ì†ë„ í˜ì‹ : ìŠ¤íŠ¸ë¦¬ë° + í•˜ì´ë¸Œë¦¬ë“œ ì—”ì§„ + ë³‘ë ¬ ì²˜ë¦¬**

---

## ğŸŒ ë¼ì´ë¸Œ ì„œë¹„ìŠ¤ (ëª¨ë“  ë§í¬)

### â–  í”„ë¡ íŠ¸ì—”ë“œ
| ì„œë¹„ìŠ¤ | URL |
|--------|-----|
| **ë©”ì¸ í˜ì´ì§€** | https://insurance-content-master.pages.dev |
| **ëŒ€ì‹œë³´ë“œ** | https://insurance-content-master.pages.dev (ë©”ì¸ê³¼ ë™ì¼) |
| **ì–´ë“œë¯¼ í˜ì´ì§€** | https://insurance-content-master.pages.dev/admin |

### â–  ë°±ì—”ë“œ API
| ì„œë¹„ìŠ¤ | URL |
|--------|-----|
| **API ì„œë²„** | https://insurance-content-master.pages.dev/api/* |
| **Health Check** | https://insurance-content-master.pages.dev/api/health |
| **API ë¬¸ì„œ (Swagger)** | ë¯¸êµ¬í˜„ - ë³„ë„ Swagger ë¯¸ì ìš© |

### â–  ì €ì¥ì†Œ
| ì„œë¹„ìŠ¤ | URL |
|--------|-----|
| **GitHub (Backend)** | https://github.com/ikjoobang/insurance-content-master |

### â–  ê°œë°œ í™˜ê²½ (ìƒŒë“œë°•ìŠ¤)
| ì„œë¹„ìŠ¤ | URL |
|--------|-----|
| **ë¡œì»¬ ì„œë²„** | https://3000-it76dqh2zidiverpa9gm8-18e660f9.sandbox.novita.ai |
| **ë¡œì»¬ ì–´ë“œë¯¼** | https://3000-it76dqh2zidiverpa9gm8-18e660f9.sandbox.novita.ai/admin |
| **ë¡œì»¬ Health** | https://3000-it76dqh2zidiverpa9gm8-18e660f9.sandbox.novita.ai/api/health |

---

## ğŸš€ V28.0 ì†ë„ í˜ì‹  (NEW!)

### â¶ ìŠ¤íŠ¸ë¦¬ë° API - ì²´ê° ì‘ë‹µ 1ì´ˆ
```
- ë²„íŠ¼ ëˆ„ë¥´ìë§ˆì ê¸€ìê°€ íƒ€ë‹¥íƒ€ë‹¥ ì¨ì§€ê¸° ì‹œì‘
- ChatGPTì²˜ëŸ¼ ì‹¤ì‹œê°„ í…ìŠ¤íŠ¸ ì¶œë ¥
- 30ì´ˆ ê±¸ë¦¬ëŠ” ì‘ì—…ë„ 1ì´ˆ ë‚´ ë°˜ì‘
- í”„ë¡œê·¸ë ˆìŠ¤ ë°”ë¡œ ì§„í–‰ ìƒí™© í‘œì‹œ
```

### â· í•˜ì´ë¸Œë¦¬ë“œ ì—”ì§„ - Flash + Pro ëª¨ë¸ ë¶„ë¦¬
```
- Flash ëª¨ë¸ (gemini-2.0-flash): ì „ëµ ìˆ˜ë¦½, JSON ìƒì„±, í‚¤ì›Œë“œ ì¶”ì¶œ
- Pro ëª¨ë¸ (gemini-pro-latest): ìµœì¢… ê¸€ì“°ê¸°, ì •ë°€ ë¶„ì„
- ì†ë„ 10ë°° í–¥ìƒ (ì‰¬ìš´ ì‘ì—…ì€ Flashë¡œ)
```

### â¸ ë³‘ë ¬ ì²˜ë¦¬ - Promise.all ë™ì‹œ ì‹¤í–‰
```
- ê²€ìƒ‰ â†’ ì „ëµ â†’ ê¸€ì“°ê¸° ìˆœì°¨ â†’ ë™ì‹œ ì‹¤í–‰ìœ¼ë¡œ ë³€ê²½
- Text Gen + Image Data Gen ë³‘ë ¬ ì²˜ë¦¬
- ì „ì²´ ì‘ë‹µ ì‹œê°„ 50% ë‹¨ì¶•
```

### â¹ ì €ì¶•/ì—°ê¸ˆ ë¡œì§ ë¶„ê¸°
```
- ì €ì¶•/ì—°ê¸ˆë³´í—˜ ì„ íƒ ì‹œ: í•´ì§€í™˜ê¸‰ê¸ˆ ì˜ˆì‹œí‘œ ìƒì„±
- ë³´ì¥ì„±ë³´í—˜ ì„ íƒ ì‹œ: ê¸°ì¡´ ë‹´ë³´ í…Œì´ë¸” ìƒì„±
- ì•”/ë‡Œ/ì‹¬ì¥ ë‹´ë³´ ìë™ ì œì™¸ (ì €ì¶•ì„±)
```

---

## ğŸ¯ V27.x ê¸°ëŠ¥

### â¶ ì •ë°€ í”„ë¡¬í”„íŠ¸ + 2026ë…„ ì‹¤ì œ ë³´í—˜ë£Œ ë°ì´í„°
```
- ë„¤ì´ë²„ ê²€ìƒ‰/ê³µì‹œìë£Œ ê¸°ë°˜ 2026ë…„ 1ì›” í˜„ì‹¤ì  ë³´í—˜ë£Œ í…Œì´ë¸”
- ë‹´ë³´ë³„ ë³´í—˜ë£Œ ê¸°ì¤€í‘œ (35ì„¸ ë‚¨ì„± 20ë…„ë‚© ê¸°ì¤€)
- ë³´í—˜ì‚¬ 12ê°œ ìƒí’ˆëª… íŒ¨í„´ ì ìš©
- ì—°ë ¹/ì„±ë³„ ì°¨ë“± ë¡œì§ (40ì„¸ +20%, 50ì„¸ +70%, ì—¬ì„± -8%)
```

### â· Photo Compositing ì„¤ê³„ì„œ ìƒì„±
```
- Type A: í°ì¹´ ë²„ì „ - ì±…ìƒ ìœ„ ë¹„ìŠ¤ë“¬íˆ ì°ì€ ëŠë‚Œ (ê¸°ë³¸ê°’)
- Type B: ëª¨ë‹ˆí„° ë²„ì „ - í™”ë©´ ìº¡ì²˜ ëŠë‚Œ
- Type C: ìŠ¤ìº” ë²„ì „ - íŒ©ìŠ¤/ë³µì‚¬ê¸° ëŠë‚Œ
- Gemini API JSON ë°ì´í„° ìƒì„± â†’ í”„ë¡ íŠ¸ì—”ë“œ CSS ì‹¤ì‚¬ í•©ì„±
```

### â¸ Few-shot ì˜ˆì‹œ ê¸°ë°˜ ì •ë°€ ìƒì„±
```
- ë‹¬ëŸ¬ì¢…ì‹ ë³´í—˜ 35ì„¸ ë‚¨ì„± ì˜ˆì‹œ (15ê°œ ë‹´ë³´, USD 311/ì›”)
- ì•”ë³´í—˜ 40ì„¸ ì—¬ì„± ì˜ˆì‹œ (15ê°œ ë‹´ë³´, 78,500ì›/ì›”)
- ë‹´ë³´ í•©ê³„ Â±10% ì˜¤ì°¨ ë²”ìœ„ ìœ ì§€
```

---

## ğŸ“¡ ì „ì²´ API ì—”ë“œí¬ì¸íŠ¸

| ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ | ì„¤ëª… |
|------------|--------|------|
| `/` | GET | ë©”ì¸ í˜ì´ì§€ |
| `/admin` | GET | ê´€ë¦¬ì í˜ì´ì§€ |
| `/api/health` | GET | ì„œë²„ ìƒíƒœ ë° ë²„ì „ ì •ë³´ (V27.3) |
| `/api/generate/qna-full` | POST | Q&A ì „ì²´ ìë™ ìƒì„± |
| `/api/generate/proposal-report` | POST | Bento Grid ì œì•ˆì„œ ë¦¬í¬íŠ¸ |
| `/api/generate/proposal-image` | POST | **V27.1 ì‹¤ì‚¬ í•©ì„± ì„¤ê³„ì„œ** |
| `/api/generate/proposal-stream` | POST | **V28.0 ìŠ¤íŠ¸ë¦¬ë° ì„¤ê³„ì„œ API** |
| `/api/generate/proposal-fast` | POST | **V28.0 ë³‘ë ¬ ì²˜ë¦¬ ê³ ì† API** |
| `/api/generate/qna-stream` | POST | **V28.0 ìŠ¤íŠ¸ë¦¬ë° Q&A API** |
| `/api/generate/proposal-image-data` | POST | ì„¤ê³„ì„œ ë°ì´í„° JSON |
| `/api/generate/proposal-image-data-v2` | POST | ê³ ë°€ë„ í…œí”Œë¦¿ ë²„ì „ |
| `/api/generate/blog` | POST | ë¸”ë¡œê·¸ ì½˜í…ì¸  ìƒì„± |
| `/api/analyze/insurance-report` | POST | ë³´í—˜ ì¦ê¶Œ ë¶„ì„ |
| `/api/analyze/photo` | POST | ì‚¬ì§„ ë¶„ì„ (OCR) |
| `/api/analyze/blog` | POST | ë¸”ë¡œê·¸ ë¶„ì„ |
| `/api/trends/insurance` | GET | ì‹¤ì‹œê°„ ë³´í—˜ íŠ¸ë Œë“œ |
| `/api/naver/keywords` | GET | ë„¤ì´ë²„ í‚¤ì›Œë“œ ë¶„ì„ |
| `/api/proxy/current-ip` | GET | í˜„ì¬ IP í™•ì¸ |
| `/api/proxy/status` | GET | í”„ë¡ì‹œ ìƒíƒœ í™•ì¸ |
| `/api/proxy/change-ip` | POST | IP ë³€ê²½ ìš”ì²­ |

---

## âœ… í…ŒìŠ¤íŠ¸ ì™„ë£Œ í˜„í™© (2026-01-17)

### â–  V28.0 ì†ë„ í…ŒìŠ¤íŠ¸
| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| ìŠ¤íŠ¸ë¦¬ë° API | âœ… ì •ìƒ | ì²« ì‘ë‹µ 1.8ì´ˆ (startâ†’progressâ†’complete) |
| ë³‘ë ¬ ì²˜ë¦¬ API | âœ… ì •ìƒ | Flash+Pro ë™ì‹œ í˜¸ì¶œ |
| ì €ì¶•/ì—°ê¸ˆ ë¶„ê¸° | âœ… ì •ìƒ | í•´ì§€í™˜ê¸‰ê¸ˆ ì˜ˆì‹œí‘œ ìƒì„± |
| í”„ë¡œê·¸ë ˆìŠ¤ UI | âœ… ì •ìƒ | ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ í‘œì‹œ |

### â–  ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| í—¬ìŠ¤ì²´í¬ API | âœ… ì •ìƒ | version: 28.0 |
| Q&A ìë™ìƒì„± | âœ… ì •ìƒ | 3ê°œ ì§ˆë¬¸ + SEO í‚¤ì›Œë“œ ìƒì„± |
| ì„¤ê³„ì„œ ì´ë¯¸ì§€ API | âœ… ì •ìƒ | 15ê°œ ë‹´ë³´, photo-compositing ëª¨ë“œ |
| í• ë£¨ì‹œë„¤ì´ì…˜ í…ŒìŠ¤íŠ¸ | âœ… í†µê³¼ | ê¸ˆì§€í‚¤ì›Œë“œ 0ê±´ ê²€ì¶œ |
| ìºì‹œ ë²„ìŠ¤íŒ… | âœ… ì ìš© | meta no-cache íƒœê·¸ |
| TXT ë‹¤ìš´ë¡œë“œ | âœ… êµ¬í˜„ | downloadTxt() í•¨ìˆ˜ |
| PDF ë‹¤ìš´ë¡œë“œ | âœ… êµ¬í˜„ | jsPDF ë¼ì´ë¸ŒëŸ¬ë¦¬ ì ìš© |
| í”„ë¡ íŠ¸ì—”ë“œ UI | âœ… ì •ìƒ | V25.5 í…ìŠ¤íŠ¸ ì„ íƒ í—ˆìš© |
| ì–´ë“œë¯¼ í˜ì´ì§€ | âœ… ì •ìƒ | /admin ì •ìƒ ì ‘ì† |

### â–  Gemini API í‚¤ ìƒíƒœ
| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| í‚¤ ê°œìˆ˜ | âš ï¸ 4ê°œ ë“±ë¡ë¨ | .dev.varsì— 4ê°œ ìŠ¬ë¡¯ ì„¤ì • |
| API í˜¸ì¶œ | âš ï¸ ì‹¤íŒ¨ | ë™ì¼ í‚¤ ë³µì‚¬ë¡œ ì¸í•œ ì‹¤íŒ¨ |
| í´ë°± ë°ì´í„° | âœ… ì •ìƒ | aiGenerated: false ì‹œ ê¸°ë³¸ ë°ì´í„° ì‚¬ìš© |

> **ì°¸ê³ **: ì‹¤ì œ ë‹¤ë¥¸ 4ê°œì˜ ìœ íš¨í•œ Gemini API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤.
> í˜„ì¬ëŠ” ê¸°ë³¸ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ê°€ ì‘ë™í•©ë‹ˆë‹¤.

---

## ğŸ”§ í™˜ê²½ ì„¤ì •

### â–  ë¡œì»¬ ê°œë°œ (.dev.vars)
```bash
# Gemini API Keys (4ê°œ ë¡œí…Œì´ì…˜)
GEMINI_API_KEY_1=your-key-1
GEMINI_API_KEY_2=your-key-2
GEMINI_API_KEY_3=your-key-3
GEMINI_API_KEY_4=your-key-4

# Naver Search API
NAVER_CLIENT_ID=your_naver_client_id
NAVER_CLIENT_SECRET=your_naver_client_secret
```

### â–  í”„ë¡œë•ì…˜ (Cloudflare Secrets)
```bash
# wrangler secret put ëª…ë ¹ìœ¼ë¡œ ë“±ë¡
npx wrangler pages secret put GEMINI_API_KEY_1 --project-name insurance-content-master
npx wrangler pages secret put GEMINI_API_KEY_2 --project-name insurance-content-master
# ... (4ê°œ ëª¨ë‘ ë“±ë¡)
```

---

## ğŸ—ï¸ ê¸°ìˆ  ì•„í‚¤í…ì²˜

### â–  ê¸°ìˆ  ìŠ¤íƒ
| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| **í”„ë ˆì„ì›Œí¬** | Hono (TypeScript) |
| **ë°°í¬** | Cloudflare Pages (Edge Runtime) |
| **AI í…ìŠ¤íŠ¸** | Google Gemini 1.5 Pro (4í‚¤ ë¡œí…Œì´ì…˜) |
| **AI ì´ë¯¸ì§€** | Google Gemini 2.5 Flash Image |
| **ê²€ìƒ‰ ì—°ë™** | NAVER Search API (ë¸”ë¡œê·¸ + ë‰´ìŠ¤) |
| **í‚¤ì›Œë“œ ë¶„ì„** | NAVER DataLab API |
| **UI** | Tailwind CSS + Font Awesome 6 |
| **í°íŠ¸** | Pretendard Variable, Noto Sans KR, Malgun Gothic |

### â–  ì£¼ìš” ì›ì¹™ (XIVIX Principles)
| ì›ì¹™ | ì„¤ëª… |
|------|------|
| **Negative Constraints** | 'ì‚¬ì—…ë¹„', 'ìˆ˜ìˆ˜ë£Œ', 'ìš´ì˜ë¹„' ë“± ê¸ˆì§€ì–´ ì›ì²œ ì°¨ë‹¨ |
| **I-Code Verification** | ë‡Œí˜ˆê´€(I60-I69), ë¶€ì •ë§¥(I49) ì•½ê´€ 1:1 ëŒ€ì¡° |
| **Surgery Class Validation** | 1-5ì¢…(ìƒë³´) vs 1-9ì¢…(ì†ë³´) ì²´ê³„ ìë™ ê°ì§€ |
| **Hallucination Zero** | RAG ê¸°ë°˜ íŒ©íŠ¸ë§Œ ì‚¬ìš©, ì¶”ì¸¡ ê¸ˆì§€ |
| **Text Selectable UI** | ëª¨ë“  í…ìŠ¤íŠ¸ ë“œë˜ê·¸/ë³µì‚¬ í—ˆìš© |

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
webapp/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.tsx          # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ (9,600ì¤„+)
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ generate-proposal-image.cjs  # Puppeteer ì´ë¯¸ì§€ ìƒì„±
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ proposals/         # ìƒì„±ëœ ì œì•ˆì„œ ì´ë¯¸ì§€
â”‚   â””â”€â”€ static/            # ì •ì  íŒŒì¼
â”œâ”€â”€ dist/                  # ë¹Œë“œ ê²°ê³¼ë¬¼
â”œâ”€â”€ ecosystem.config.cjs   # PM2 ì„¤ì •
â”œâ”€â”€ wrangler.jsonc         # Cloudflare ì„¤ì •
â”œâ”€â”€ .dev.vars              # ë¡œì»¬ í™˜ê²½ë³€ìˆ˜ (Git ì œì™¸)
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ vite.config.ts
```

---

## ğŸš€ ë²„ì „ íˆìŠ¤í† ë¦¬

| ë²„ì „ | ë‚ ì§œ | ì£¼ìš” ë³€ê²½ì‚¬í•­ |
|------|------|---------------|
| **V27.3** | **2026-01-17** | **ì •ë°€ í”„ë¡¬í”„íŠ¸ + 2026ë…„ ì‹¤ë°ì´í„° ë³´í—˜ë£Œ í…Œì´ë¸” + Few-shot ì˜ˆì‹œ** |
| V27.2 | 2026-01-17 | ì •ë°€ í”„ë¡¬í”„íŠ¸ + callGeminiAPI í†µí•© |
| V27.1 | 2026-01-17 | Photo Compositing + Gemini JSON Data Generation |
| V27.0 | 2026-01-17 | ë³´í—˜ì¢…ë¥˜ ìë™ ê°ì§€, ë‹¬ëŸ¬ì¢…ì‹ ë³´í—˜ ì§€ì› |
| V25.5 | 2026-01-17 | í…ìŠ¤íŠ¸ ì„ íƒ/ë³µì‚¬ ì™„ì „ í—ˆìš©, XIVIX ì›ì¹™ |
| V25.3 | 2026-01-17 | XIVIX í‘œì¤€ JSON ìŠ¤í‚¤ë§ˆ, I-ì½”ë“œ ì •ë°€ ë¶„ì„ |

---

## âš ï¸ ì•Œë ¤ì§„ ì´ìŠˆ ë° ê¶Œì¥ì‚¬í•­

### â–  Gemini API í‚¤ ì„¤ì • í•„ìš”
- í˜„ì¬ í”„ë¡œë•ì…˜ì—ì„œ Gemini API í‚¤ ë¯¸ì„¤ì • ë˜ëŠ” ìœ íš¨í•˜ì§€ ì•ŠìŒ
- `aiGenerated: false` ìƒíƒœë¡œ ê¸°ë³¸ ë°ì´í„° ì‚¬ìš© ì¤‘
- **í•´ê²° ë°©ë²•**: `wrangler pages secret put` ëª…ë ¹ìœ¼ë¡œ 4ê°œì˜ ìœ íš¨í•œ í‚¤ ë“±ë¡

### â–  ì½”ë“œ ê²½ê³ 
- `src/index.tsx`ì— ì¤‘ë³µ í‚¤ ê²½ê³  (`ìš´ì „ì` í‚¤ ì¤‘ë³µ)
- ê¸°ëŠ¥ì— ì˜í–¥ ì—†ìŒ, í–¥í›„ ì •ë¦¬ ê¶Œì¥

---

## ğŸ‘¨â€ğŸ’» ê°œë°œ ì •ë³´

- **ê°œë°œì**: ë°©ìµì£¼
- **ë²„ì „**: V27.3
- **ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-01-17
- **GitHub**: https://github.com/ikjoobang/insurance-content-master
- **ê¸°ìˆ  ì§€ì›**: XIVIX Dev Team
